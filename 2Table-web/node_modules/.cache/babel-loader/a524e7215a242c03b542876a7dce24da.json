{"ast":null,"code":"import _classCallCheck from \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/src/components/Reserve.js\";\nimport React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport { API_ROOT } from '../constants';\nimport $ from 'jquery';\nimport { message } from 'antd';\nimport PickyDateTime from 'react-picky-date-time';\nvar style = {\n  height: '200px',\n  width: '200px',\n  margin: '2rem'\n};\nvar button_style = {\n  margin: '0.5rem'\n};\nexport var Reserve =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Reserve, _React$Component);\n\n  function Reserve(props) {\n    var _this;\n\n    _classCallCheck(this, Reserve);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Reserve).call(this, props));\n    _this.state = {\n      id: _this.props.resId,\n      resInfo: {},\n      showPickyDateTime: true,\n      date: new Date().getDate(),\n      month: new Date().getMonth() + 1,\n      year: new Date().getFullYear(),\n      hour: new Date().getHours(),\n      meridiem: 'PM'\n    };\n    _this.handleReserve = _this.handleReserve.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Reserve, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      $.ajax({\n        url: \"\".concat(API_ROOT, \"/searchRes?Id=\").concat(this.state.id),\n        method: 'GET'\n      }).then(function (response) {\n        _this2.setState({\n          resInfo: JSON.parse(response)\n        });\n\n        console.log(JSON.parse(response));\n      }, function (error) {\n        message.error(error.responseText);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"onYearPicked\",\n    value: function onYearPicked(res) {\n      var year = res.year;\n      this.setState({\n        year: year\n      });\n    }\n  }, {\n    key: \"onMonthPicked\",\n    value: function onMonthPicked(res) {\n      var month = res.month,\n          year = res.year;\n      this.setState({\n        year: year,\n        month: month\n      });\n    }\n  }, {\n    key: \"onDatePicked\",\n    value: function onDatePicked(res) {\n      var date = res.date,\n          month = res.month,\n          year = res.year;\n      this.setState({\n        year: year,\n        month: month,\n        date: date\n      });\n    }\n  }, {\n    key: \"onResetDate\",\n    value: function onResetDate(res) {\n      var date = res.date,\n          month = res.month,\n          year = res.year;\n      this.setState({\n        year: year,\n        month: month,\n        date: date\n      });\n    }\n  }, {\n    key: \"onResetDefaultDate\",\n    value: function onResetDefaultDate(res) {\n      var date = res.date,\n          month = res.month,\n          year = res.year;\n      this.setState({\n        year: year,\n        month: month,\n        date: date\n      });\n    }\n  }, {\n    key: \"onHourChange\",\n    value: function onHourChange(res) {\n      this.setState({\n        hour: res.value\n      });\n    }\n  }, {\n    key: \"onMeridiemChange\",\n    value: function onMeridiemChange(res) {\n      this.setState({\n        meridiem: res\n      });\n    }\n  }, {\n    key: \"onResetTime\",\n    value: function onResetTime(res) {\n      this.setState({\n        second: res.clockHandSecond.value,\n        minute: res.clockHandMinute.value,\n        hour: res.clockHandHour.value\n      });\n    }\n  }, {\n    key: \"onResetDefaultTime\",\n    value: function onResetDefaultTime(res) {\n      this.setState({\n        second: res.clockHandSecond.value,\n        minute: res.clockHandMinute.value,\n        hour: res.clockHandHour.value\n      });\n    }\n  }, {\n    key: \"onClearTime\",\n    value: function onClearTime(res) {\n      this.setState({\n        second: res.clockHandSecond.value,\n        minute: res.clockHandMinute.value,\n        hour: res.clockHandHour.value\n      });\n    } // just toggle your outter component state to true or false to show or hide <PickyDateTime/>\n\n  }, {\n    key: \"openPickyDateTime\",\n    value: function openPickyDateTime() {\n      this.setState({\n        showPickyDateTime: true\n      });\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      this.setState({\n        showPickyDateTime: false\n      });\n    }\n  }, {\n    key: \"handleReserve\",\n    value: function handleReserve(e) {\n      // 用ajax检查capacity然后reserve餐馆，我直接写了alert测试用\n      e.preventDefault();\n      alert(\"sucess\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          showPickyDateTime = _this$state.showPickyDateTime,\n          date = _this$state.date,\n          month = _this$state.month,\n          year = _this$state.year,\n          hour = _this$state.hour,\n          meridiem = _this$state.meridiem;\n      var resInfo = this.state.resInfo;\n      console.log(this.state);\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, resInfo.restaurant), React.createElement(\"img\", {\n        src: \"https://i.loli.net/2019/04/15/5cb3e0210edb5.jpg\",\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, resInfo.address, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), \"contact: \", resInfo.phone)), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(PickyDateTime, {\n        size: \"m\",\n        mode: 1,\n        show: showPickyDateTime,\n        locale: \"en-us\",\n        defaultTime: \"\".concat(hour, \":0:0 \").concat(meridiem) // \"HH:MM:SS AM\"\n        ,\n        defaultDate: \"\".concat(month, \"/\").concat(date, \"/\").concat(year) // \"MM/DD/YYYY\"\n        ,\n        onClose: function onClose() {\n          return _this3.setState({\n            showPickyDateTime: false\n          });\n        },\n        onYearPicked: function onYearPicked(res) {\n          return _this3.onYearPicked(res);\n        },\n        onMonthPicked: function onMonthPicked(res) {\n          return _this3.onMonthPicked(res);\n        },\n        onDatePicked: function onDatePicked(res) {\n          return _this3.onDatePicked(res);\n        },\n        onResetDate: function onResetDate(res) {\n          return _this3.onResetDate(res);\n        },\n        onResetDefaultDate: function onResetDefaultDate(res) {\n          return _this3.onResetDefaultDate(res);\n        },\n        onHourChange: function onHourChange(res) {\n          return _this3.onHourChange(res);\n        },\n        onMeridiemChange: function onMeridiemChange(res) {\n          return _this3.onMeridiemChange(res);\n        },\n        onResetTime: function onResetTime(res) {\n          return _this3.onResetTime(res);\n        },\n        onResetDefaultTime: function onResetDefaultTime(res) {\n          return _this3.onResetDefaultTime(res);\n        },\n        onClearTime: function onClearTime(res) {\n          return _this3.onClearTime(res);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Reserve;\n}(React.Component);","map":{"version":3,"sources":["/Users/yangsirui/Downloads/2Table-web-master/2Table-web/src/components/Reserve.js"],"names":["React","Container","Row","Col","Button","API_ROOT","$","message","PickyDateTime","style","height","width","margin","button_style","Reserve","props","state","id","resId","resInfo","showPickyDateTime","date","Date","getDate","month","getMonth","year","getFullYear","hour","getHours","meridiem","handleReserve","bind","ajax","url","method","then","response","setState","JSON","parse","console","log","error","responseText","catch","res","value","second","clockHandSecond","minute","clockHandMinute","clockHandHour","e","preventDefault","alert","restaurant","address","phone","onYearPicked","onMonthPicked","onDatePicked","onResetDate","onResetDefaultDate","onHourChange","onMeridiemChange","onResetTime","onResetDefaultTime","onClearTime","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\nimport { API_ROOT } from '../constants';\nimport $ from 'jquery';\nimport { message } from 'antd';\nimport PickyDateTime from 'react-picky-date-time';\n\n\nconst style = {\n    height: '200px',\n    width: '200px',\n    margin: '2rem'\n};\n\nconst button_style = {\n    margin: '0.5rem'\n};\n  \n\nexport class Reserve extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n        id: this.props.resId,\n        resInfo: {},\n        showPickyDateTime: true,\n        date: new Date().getDate(),\n        month: new Date().getMonth() + 1,\n        year: new Date().getFullYear(),\n        hour: new Date().getHours(),\n        meridiem: 'PM'\n    }\n    this.handleReserve = this.handleReserve.bind(this);\n  }\n\n\n  componentDidMount() {\n    $.ajax({\n            url: `${API_ROOT}/searchRes?Id=${this.state.id}`,\n            method: 'GET',\n            }).then((response) => {\n                this.setState({\n                    resInfo : JSON.parse(response)\n                });\n                  console.log(JSON.parse(response));\n            },(error) => {\n                    message.error(error.responseText);\n            }).catch((error) => {\n                    console.log(error);\n            });\n  }\n\n  onYearPicked(res) {\n      const { year } = res;\n      this.setState({ year: year});\n    }\n\n    onMonthPicked(res) {\n      const { month, year } = res;\n      this.setState({ year: year, month: month});\n    }\n\n    onDatePicked(res) {\n      const { date, month, year } = res;\n      this.setState({ year: year, month: month, date: date });\n    }\n\n    onResetDate(res) {\n      const { date, month, year } = res;\n      this.setState({ year: year, month: month, date: date });\n    }\n\n    onResetDefaultDate(res) {\n      const { date, month, year } = res;\n      this.setState({ year: year, month: month, date: date });\n    }\n\n    onHourChange(res) {\n      this.setState({ hour: res.value });\n    }\n\n    onMeridiemChange(res) {\n      this.setState({ meridiem: res });\n    }\n\n    onResetTime(res) {\n      this.setState({\n        second: res.clockHandSecond.value,\n        minute: res.clockHandMinute.value,\n        hour: res.clockHandHour.value\n      });\n    }\n\n    onResetDefaultTime(res) {\n      this.setState({\n        second: res.clockHandSecond.value,\n        minute: res.clockHandMinute.value,\n        hour: res.clockHandHour.value\n      });\n    }\n\n    onClearTime(res) {\n      this.setState({\n        second: res.clockHandSecond.value,\n        minute: res.clockHandMinute.value,\n        hour: res.clockHandHour.value\n      });\n    }\n\n    // just toggle your outter component state to true or false to show or hide <PickyDateTime/>\n    openPickyDateTime() {\n      this.setState({showPickyDateTime: true});\n    }\n\n    onClose() {\n      this.setState({showPickyDateTime: false});\n    }\n\n\n  handleReserve(e) {\n      // 用ajax检查capacity然后reserve餐馆，我直接写了alert测试用\n      \n    e.preventDefault();\n    alert(\"sucess\")\n  }\n\n  render() {\n      const {\n        showPickyDateTime,\n        date,\n        month,\n        year,\n        hour,\n        meridiem\n      } = this.state;\n      const resInfo = this.state.resInfo;\n      console.log(this.state);\n    return (\n        <Container>\n            <Row>\n                <Col>\n                {/* Col 1 for the Name and Picture of the Restaurant<br /> */}\n                    <h1>{resInfo.restaurant}</h1>\n                    <img src=\"https://i.loli.net/2019/04/15/5cb3e0210edb5.jpg\" style={style} />\n                    <h4>{resInfo.address}\n                        <br/>contact: {resInfo.phone}</h4>\n                    </Col>\n                <Col>\n                        <PickyDateTime\n                          size=\"m\"\n                          mode={1}\n                          show={showPickyDateTime}\n                          locale=\"en-us\"\n                          defaultTime={`${hour}:0:0 ${meridiem}`} // \"HH:MM:SS AM\"\n                          defaultDate={`${month}/${date}/${year}`} // \"MM/DD/YYYY\"\n                          onClose={() => this.setState({ showPickyDateTime: false })}\n                          onYearPicked={res => this.onYearPicked(res)}\n                          onMonthPicked={res => this.onMonthPicked(res)}\n                          onDatePicked={res => this.onDatePicked(res)}\n                          onResetDate={res => this.onResetDate(res)}\n                          onResetDefaultDate={res => this.onResetDefaultDate(res)}\n                          onHourChange={res => this.onHourChange(res)}\n                          onMeridiemChange={res => this.onMeridiemChange(res)}\n                          onResetTime={res => this.onResetTime(res)}\n                          onResetDefaultTime={res => this.onResetDefaultTime(res)}\n                          onClearTime={res => this.onClearTime(res)}\n                        />\n                </Col>\n            </Row>\n        </Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}