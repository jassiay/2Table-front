{"ast":null,"code":"import _classCallCheck from \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yangsirui/Downloads/2Table-web-master/2Table-web/src/components/Register.js\";\nimport React from 'react';\nimport { Form, Input, Button, message, Select, Radio } from 'antd';\nimport $ from 'jquery';\nimport { API_ROOT } from '../constants';\nimport { Link } from 'react-router-dom';\nimport { Upload } from './Upload';\nvar FormItem = Form.Item;\nvar Option = Select.Option;\nvar formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 8\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\nvar tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0\n    },\n    sm: {\n      span: 16,\n      offset: 8\n    }\n  }\n};\n\nvar RegistrationForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RegistrationForm, _React$Component);\n\n  function RegistrationForm() {\n    var _this;\n\n    _classCallCheck(this, RegistrationForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RegistrationForm).call(this));\n\n    _this.handleFormLayoutChange = function (e) {\n      _this.setState({\n        Client: e.target.value\n      });\n    };\n\n    _this.importFile = function (file) {\n      var formDate = new FormData();\n      formData.append('file', file);\n      $.ajax({\n        url: \"https://sm.ms/api/upload\",\n        method: 'POST',\n        data: JSON.stringify({\n          smfile: formData\n        })\n      }).then(function (response) {\n        message.success(response);\n      }, function (response) {\n        message.error(response.responseText);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      var myHeaders = new Headers();\n      e.preventDefault();\n\n      _this.props.form.validateFieldsAndScroll(function (err, values) {\n        if (!err) {\n          console.log('Received values of form: ', values);\n\n          if (_this.state.Client === 'User') {\n            $.ajax({\n              url: \"\".concat(API_ROOT, \"/register\"),\n              method: 'POST',\n              data: JSON.stringify({\n                client: _this.state.Client,\n                ID: values.UserID,\n                name: values.name,\n                phone: values.phone,\n                email: values.email,\n                password: values.password\n              })\n            }).then(function (response) {\n              message.success(response);\n            }, function (response) {\n              message.error(response.responseText);\n            }).catch(function (error) {\n              console.log(error);\n            });\n          } else {\n            $.ajax({\n              url: \"\".concat(API_ROOT, \"/register\"),\n              method: 'POST',\n              data: JSON.stringify({\n                client: _this.state.Client,\n                ID: values.RestaurantID,\n                name: values.name,\n                phone: values.phone,\n                email: values.email,\n                password: values.password,\n                address: values.address,\n                capacity: values.capacity\n              })\n            }).then(function (response) {\n              message.success(response);\n\n              _this.setState({\n                url: response.data.url\n              });\n\n              console.log(response.data.url);\n            }, function (error) {\n              message.error(response.responseText);\n            }).catch(function (error) {\n              console.log(error);\n            });\n          }\n        }\n      });\n    };\n\n    _this.handleConfirmBlur = function (e) {\n      var value = e.target.value;\n\n      _this.setState({\n        confirmDirty: _this.state.confirmDirty || !!value\n      });\n    };\n\n    _this.compareToFirstPassword = function (rule, value, callback) {\n      var form = _this.props.form;\n\n      if (value && value !== form.getFieldValue('password')) {\n        callback('Two passwords that you enter is inconsistent!');\n      } else {\n        callback();\n      }\n    };\n\n    _this.validateToNextPassword = function (rule, value, callback) {\n      var form = _this.props.form;\n\n      if (value && _this.state.confirmDirty) {\n        form.validateFields(['confirm'], {\n          force: true\n        });\n      }\n\n      callback();\n    };\n\n    _this.getResItem = function () {\n      var getFieldDecorator = _this.props.form.getFieldDecorator;\n      var prefixSelector = getFieldDecorator('prefix', {\n        initialValue: '1'\n      })(React.createElement(Select, {\n        style: {\n          width: 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"+1\"), React.createElement(Option, {\n        value: \"44\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"+44\"), React.createElement(Option, {\n        value: \"49\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"+49\"), React.createElement(Option, {\n        value: \"86\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"+86\"), React.createElement(Option, {\n        value: \"91\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"+91\")));\n      return React.createElement(React.Fragment, null, React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"RestaurantID\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), getFieldDecorator('RestaurantID', {\n        rules: [{\n          required: true,\n          message: 'Please input your RestaurantID!',\n          whitespace: true\n        }]\n      })(React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), getFieldDecorator('password', {\n        rules: [{\n          required: true,\n          message: 'Please input your password!'\n        }, {\n          validator: _this.validateToNextPassword\n        }]\n      })(React.createElement(Input, {\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Confirm Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), getFieldDecorator('confirm', {\n        rules: [{\n          required: true,\n          message: 'Please confirm your password!'\n        }, {\n          validator: _this.compareToFirstPassword\n        }]\n      })(React.createElement(Input, {\n        type: \"password\",\n        onBlur: _this.handleConfirmBlur,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Restaurant Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }), getFieldDecorator('name', {\n        rules: [{\n          required: true,\n          message: 'Please Please input your restaurant\\'s name!',\n          whitespace: true\n        }]\n      })(React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Phone Number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }), getFieldDecorator('phone', {\n        rules: [{\n          required: true,\n          message: 'Please Please input your phone number!',\n          whitespace: true\n        }]\n      })(React.createElement(Input, {\n        addonBefore: prefixSelector,\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Email Address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }), getFieldDecorator('email', {\n        rules: [{\n          required: true,\n          message: 'Please Please input your Email Address!',\n          whitespace: true\n        }]\n      })(React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }), getFieldDecorator('address', {\n        rules: [{\n          required: true,\n          message: 'Please Please input your Address!',\n          whitespace: true\n        }]\n      })(React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Capacity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }), getFieldDecorator('capacity', {\n        rules: [{\n          required: true,\n          message: 'Please Please input your capacity!',\n          whitespace: true\n        }]\n      })(React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, tailFormItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }), React.createElement(Upload, {\n        importFile: _this.importFile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      })), React.createElement(FormItem, Object.assign({}, tailFormItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, \"Register\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"I already have an account, go back to \", React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"login\"))));\n    };\n\n    _this.getUserItem = function () {\n      var getFieldDecorator = _this.props.form.getFieldDecorator;\n      var prefixSelector = getFieldDecorator('prefix', {\n        initialValue: '1'\n      })(React.createElement(Select, {\n        style: {\n          width: 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"+1\"), React.createElement(Option, {\n        value: \"44\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"+44\"), React.createElement(Option, {\n        value: \"49\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"+49\"), React.createElement(Option, {\n        value: \"86\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"+86\"), React.createElement(Option, {\n        value: \"91\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"+91\")));\n      return React.createElement(React.Fragment, null, React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"UserID\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }), getFieldDecorator('UserID', {\n        rules: [{\n          required: true,\n          message: 'Please input your userID!',\n          whitespace: true\n        }]\n      })(React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }), getFieldDecorator('password', {\n        rules: [{\n          required: true,\n          message: 'Please input your password!'\n        }, {\n          validator: _this.validateToNextPassword\n        }]\n      })(React.createElement(Input, {\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Confirm Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }), getFieldDecorator('confirm', {\n        rules: [{\n          required: true,\n          message: 'Please confirm your password!'\n        }, {\n          validator: _this.compareToFirstPassword\n        }]\n      })(React.createElement(Input, {\n        type: \"password\",\n        onBlur: _this.handleConfirmBlur,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }), getFieldDecorator('name', {\n        rules: [{\n          required: true,\n          message: 'Please Please input your name!',\n          whitespace: true\n        }]\n      })(React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Phone Number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }), getFieldDecorator('phone', {\n        rules: [{\n          required: true,\n          message: 'Please Please input your phone number!',\n          whitespace: true\n        }]\n      })(React.createElement(Input, {\n        addonBefore: prefixSelector,\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"Email Address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }), getFieldDecorator('email', {\n        rules: [{\n          required: true,\n          message: 'Please Please input your Email Address!',\n          whitespace: true\n        }]\n      })(React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }))), React.createElement(FormItem, Object.assign({}, tailFormItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, \"Register\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, \"I already have an account, go back to \", React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, \"login\"))));\n    };\n\n    _this.state = {\n      Client: 'User',\n      confirmDirty: false,\n      autoCompleteResult: [],\n      url: 'https://i.loli.net/2019/04/25/5cc1780ba8f42.png'\n    };\n    return _this;\n  }\n\n  _createClass(RegistrationForm, [{\n    key: \"render\",\n    value: function render() {\n      var formItemLayout = {\n        labelCol: {\n          xs: {\n            span: 24\n          },\n          sm: {\n            span: 8\n          }\n        },\n        wrapperCol: {\n          xs: {\n            span: 24\n          },\n          sm: {\n            span: 16\n          }\n        }\n      };\n      var Client = this.state.Client;\n      var Items = Client === 'User' ? this.getUserItem : this.getResItem;\n      return React.createElement(Form, {\n        client: Client,\n        onSubmit: this.handleSubmit,\n        className: \"register-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }), React.createElement(Radio.Group, {\n        defaultValue: \"User\",\n        onChange: this.handleFormLayoutChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, React.createElement(Radio.Button, {\n        value: \"User\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, \"User\"), React.createElement(Radio.Button, {\n        value: \"Restaurant\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, \"Restaurant\"))), React.createElement(Items, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return RegistrationForm;\n}(React.Component);\n\nexport var Register = Form.create()(RegistrationForm);","map":{"version":3,"sources":["/Users/yangsirui/Downloads/2Table-web-master/2Table-web/src/components/Register.js"],"names":["React","Form","Input","Button","message","Select","Radio","$","API_ROOT","Link","Upload","FormItem","Item","Option","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","RegistrationForm","handleFormLayoutChange","e","setState","Client","target","value","importFile","file","formDate","FormData","formData","append","ajax","url","method","data","JSON","stringify","smfile","then","response","success","error","responseText","catch","console","log","handleSubmit","myHeaders","Headers","preventDefault","props","form","validateFieldsAndScroll","err","values","state","client","ID","UserID","name","phone","email","password","RestaurantID","address","capacity","handleConfirmBlur","confirmDirty","compareToFirstPassword","rule","callback","getFieldValue","validateToNextPassword","validateFields","force","getResItem","getFieldDecorator","prefixSelector","initialValue","width","rules","required","whitespace","validator","getUserItem","autoCompleteResult","Items","Component","Register","create"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Input, Button, message,  Select, Radio } from 'antd';\nimport $ from 'jquery';\nimport { API_ROOT } from '../constants';\nimport { Link } from 'react-router-dom';\nimport {Upload} from './Upload';\n\nconst FormItem = Form.Item;\nconst { Option } = Select;\nconst formItemLayout = {\n    labelCol: {\n        xs: { span: 24 },\n        sm: { span: 8 },\n    },\n    wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 16 },\n    },\n};\nconst tailFormItemLayout = {\n    wrapperCol: {\n        xs: {\n            span: 24,\n            offset: 0,\n        },\n        sm: {\n            span: 16,\n            offset: 8,\n        },\n    },\n};\n\n\nclass RegistrationForm extends React.Component {\n\nconstructor() {\n  super();\n    this.state = {\n      Client: 'User',\n      confirmDirty: false,\n      autoCompleteResult: [],\n      url: 'https://i.loli.net/2019/04/25/5cc1780ba8f42.png',\n    };\n  }\n\n  handleFormLayoutChange = (e) => {\n      this.setState({ Client: e.target.value });\n  }\n\n    importFile = (file) => {\n        const formDate = new FormData();\n        formData.append('file', file);\n        $.ajax({\n               url: `https://sm.ms/api/upload`,\n               method: 'POST',\n               data: JSON.stringify({\n                  smfile : formData,\n               })\n        }).then((response) => {\n                        message.success(response);\n        }, (response) => {\n                        message.error(response.responseText);\n                    }).catch((error) => {\n                        console.log(error);\n                    });\n\n    }\n\n   handleSubmit = (e) => {\n     var myHeaders = new Headers();\n\n     e.preventDefault();\n     this.props.form.validateFieldsAndScroll((err, values) => {\n       if (!err) {\n         console.log('Received values of form: ', values);\n         if (this.state.Client === 'User'){\n            $.ajax({\n                url: `${API_ROOT}/register`,\n                method: 'POST',\n                data: JSON.stringify({\n                    client: this.state.Client,\n                    ID: values.UserID,\n                    name: values.name,\n                    phone: values.phone,\n                    email: values.email,\n                    password: values.password,\n                })\n            }).then((response) => {\n                message.success(response);\n            }, (response) => {\n                message.error(response.responseText);\n            }).catch((error) => {\n                console.log(error);\n            });\n       }else {\n            $.ajax({\n                url: `${API_ROOT}/register`,\n                method: 'POST',\n                data: JSON.stringify({\n                    client: this.state.Client,\n                    ID: values.RestaurantID,\n                    name: values.name,\n                    phone: values.phone,\n                    email: values.email,\n                    password: values.password,\n                    address: values.address,\n                    capacity: values.capacity,\n                })\n            }).then((response) => {\n                message.success(response);\n                this.setState({url : response.data.url});\n                console.log(response.data.url);\n            }, (error) => {\n                message.error(response.responseText);\n            }).catch((error) => {\n                console.log(error);\n            });\n       }\n       }\n     });\n   }\n\n   handleConfirmBlur = (e) => {\n     const value = e.target.value;\n     this.setState({ confirmDirty: this.state.confirmDirty || !!value });\n   }\n\n   compareToFirstPassword = (rule, value, callback) => {\n     const form = this.props.form;\n     if (value && value !== form.getFieldValue('password')) {\n       callback('Two passwords that you enter is inconsistent!');\n     } else {\n       callback();\n     }\n   }\n\n\n   validateToNextPassword = (rule, value, callback) => {\n     const form = this.props.form;\n     if (value && this.state.confirmDirty) {\n       form.validateFields(['confirm'], { force: true });\n     }\n     callback();\n   }\n\n    getResItem = () => {\n        const { getFieldDecorator } = this.props.form;\n        const prefixSelector = getFieldDecorator('prefix', {\n            initialValue: '1',\n        })(\n            <Select style={{ width: 70 }}>\n            <Option value=\"1\">+1</Option>\n            <Option value=\"44\">+44</Option>\n            <Option value=\"49\">+49</Option>\n            <Option value=\"86\">+86</Option>\n            <Option value=\"91\">+91</Option>\n            </Select>\n        );\n\n        return (\n            <>\n                <FormItem\n                    {...formItemLayout}\n                    label=\"RestaurantID\"\n                >\n                {getFieldDecorator('RestaurantID', {\n                    rules: [{ required: true, message: 'Please input your RestaurantID!', whitespace: true }],\n                })(\n                    <Input />\n                )}\n                </FormItem>\n                <FormItem\n                    {...formItemLayout}\n                        label=\"Password\"\n                >\n                {getFieldDecorator('password', {\n                    rules: [{\n                        required: true, message: 'Please input your password!',\n                        }, {\n                        validator: this.validateToNextPassword,\n                        }],\n                })(\n                <Input type=\"password\" />\n                )}\n            </FormItem>\n                <FormItem\n                    {...formItemLayout}\n                         label=\"Confirm Password\"\n            >\n                {getFieldDecorator('confirm', {\n                    rules: [{\n                        required: true, message: 'Please confirm your password!',\n                    }, {\n                        validator: this.compareToFirstPassword,\n                    }],\n                })(\n                    <Input type=\"password\" onBlur={this.handleConfirmBlur} />\n                )}\n                </FormItem>\n                 <FormItem {...formItemLayout} label=\"Restaurant Name\">\n                    {getFieldDecorator('name', {\n                        rules: [{\n                            required: true, message: 'Please Please input your restaurant\\'s name!',\n                            whitespace: true }]\n                        }) (\n                        <Input />\n                         )}\n                 </FormItem>\n                  <FormItem {...formItemLayout} label=\"Phone Number\">\n                                   {getFieldDecorator('phone', {\n                                     rules: [{\n                                         required: true, message: 'Please Please input your phone number!',\n                                     whitespace: true }]\n                                   }) (\n                                      <Input addonBefore={prefixSelector} style={{ width: '100%' }} />\n                                   )}\n                         </FormItem>\n                         <FormItem {...formItemLayout} label=\"Email Address\">\n                                   {getFieldDecorator('email', {\n                                      rules: [{\n                                         required: true, message: 'Please Please input your Email Address!',\n                                      whitespace: true }]\n                                   }) (\n                                     <Input />\n                                   )}\n                          </FormItem>\n                          <FormItem {...formItemLayout} label=\"Address\">\n                                     {getFieldDecorator('address', {\n                                         rules: [{\n                                             required: true, message: 'Please Please input your Address!',\n                                          whitespace: true }]\n                                      }) (\n                                         <Input />\n                              )}\n                          </FormItem>\n                          <FormItem {...formItemLayout} label=\"Capacity\">\n                                     {getFieldDecorator('capacity', {\n                                           rules: [{\n                                                   required: true, message: 'Please Please input your capacity!',\n                                           whitespace: true }]\n                                     }) (\n                                        <Input />\n                          )}\n                          </FormItem>\n                          <FormItem {...tailFormItemLayout}>\n                            <Upload importFile = {this.importFile}/>\n                          </FormItem>\n                          <FormItem {...tailFormItemLayout}>\n                                     <Button type=\"primary\" htmlType=\"submit\">Register</Button>\n                                     <p>I already have an account, go back to <Link to=\"/login\">login</Link></p>\n                                   </FormItem>\n                                   </>)\n   }\n\n   getUserItem = () => {\n          const { getFieldDecorator } = this.props.form;\n          const prefixSelector = getFieldDecorator('prefix', {\n                initialValue: '1',\n              })(\n                <Select style={{ width: 70 }}>\n                  <Option value=\"1\">+1</Option>\n                  <Option value=\"44\">+44</Option>\n                  <Option value=\"49\">+49</Option>\n                  <Option value=\"86\">+86</Option>\n                  <Option value=\"91\">+91</Option>\n                </Select>\n              );\n\n          return (\n            <>\n                <FormItem\n                      {...formItemLayout}\n                      label=\"UserID\"\n                    >\n                      {getFieldDecorator('UserID', {\n                        rules: [{ required: true, message: 'Please input your userID!', whitespace: true }],\n                      })(\n                        <Input />\n                      )}\n                    </FormItem>\n                    <FormItem\n                      {...formItemLayout}\n                      label=\"Password\"\n                    >\n                      {getFieldDecorator('password', {\n                        rules: [{\n                          required: true, message: 'Please input your password!',\n                        }, {\n                          validator: this.validateToNextPassword,\n                        }],\n                      })(\n                        <Input type=\"password\" />\n                      )}\n                    </FormItem>\n                    <FormItem\n                      {...formItemLayout}\n                      label=\"Confirm Password\"\n                    >\n                      {getFieldDecorator('confirm', {\n                        rules: [{\n                          required: true, message: 'Please confirm your password!',\n                        }, {\n                          validator: this.compareToFirstPassword,\n                        }],\n                      })(\n                        <Input type=\"password\" onBlur={this.handleConfirmBlur} />\n                      )}\n                    </FormItem>\n                    <FormItem {...formItemLayout} label=\"Name\">\n                       {getFieldDecorator('name', {\n                         rules: [{\n                             required: true, message: 'Please Please input your name!',\n                         whitespace: true }]\n                       }) (\n                         <Input />\n                       )}\n                    </FormItem>\n                    <FormItem {...formItemLayout} label=\"Phone Number\">\n                              {getFieldDecorator('phone', {\n                                rules: [{\n                                    required: true, message: 'Please Please input your phone number!',\n                                whitespace: true }]\n                              }) (\n                                 <Input addonBefore={prefixSelector} style={{ width: '100%' }} />\n                              )}\n                    </FormItem>\n                    <FormItem {...formItemLayout} label=\"Email Address\">\n                              {getFieldDecorator('email', {\n                                 rules: [{\n                                    required: true, message: 'Please Please input your Email Address!',\n                                 whitespace: true }]\n                              }) (\n                                <Input />\n                              )}\n                     </FormItem>\n                     <FormItem {...tailFormItemLayout}>\n                                <Button type=\"primary\" htmlType=\"submit\">Register</Button>\n                                <p>I already have an account, go back to <Link to=\"/login\">login</Link></p>\n                              </FormItem>\n                              </>)\n   }\n\n\n   render() {\n\n              const formItemLayout = {\n                labelCol: {\n                  xs: { span: 24 },\n                  sm: { span: 8 },\n                },\n                wrapperCol: {\n                  xs: { span: 24 },\n                  sm: { span: 16 },\n                },\n              };\n     const Client  = this.state.Client;\n     const Items = Client === 'User' ? this.getUserItem : this.getResItem;\n\n     return (\n     <Form client={Client} onSubmit={this.handleSubmit} className=\"register-form\">\n\n                           <FormItem {...formItemLayout}>\n                              <Radio.Group defaultValue=\"User\" onChange={this.handleFormLayoutChange}>\n                                 <Radio.Button value=\"User\">User</Radio.Button>\n                                 <Radio.Button value=\"Restaurant\">Restaurant</Radio.Button>\n                              </Radio.Group>\n                           </FormItem>\n                           <Items />\n              </Form>)\n              ;\n   }\n  }\n\n  export const Register = Form.create()(RegistrationForm);"]},"metadata":{},"sourceType":"module"}